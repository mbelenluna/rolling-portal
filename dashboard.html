<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crowdsourcing Portal — New Request | Rolling Translations</title>
  <meta name="robots" content="noindex, nofollow" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
</head>
<body>
  <div class="ribbon">
    Crowdsourced Translation — separate, opt‑in service for <b>non‑regulated, low‑risk content</b>.
    <a href="/professional" class="link">Need medical/legal? Professional Services →</a>
  </div>

  <div class="container">
    <img src="images/logo.png" alt="Rolling Translations Logo" class="logo" />
    <h1 class="title">Submit a Crowdsourced Translation</h1>
    <p class="subtitle">
      Upload your file, get an instant quote, and pay securely. <b>Not for medical, legal, or regulated content.</b>
    </p>

    <form id="projectRequestForm" class="card">
      <div class="grid">
        <div>
          <label for="sourceLang">Source Language (*)</label>
          <select id="sourceLang" required>
            <option value="">-- Select --</option>
            <option value="en">English</option>
            <option value="es">Spanish</option>
            <option value="pt">Portuguese</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="it">Italian</option>
            <option value="ja">Japanese</option>
            <option value="ko">Korean</option>
            <option value="zh">Chinese</option>
          </select>
        </div>
        <div>
          <label for="targetLang">Target Language (*)</label>
          <select id="targetLang" required>
            <option value="">-- Select --</option>
            <option value="en">English</option>
            <option value="es">Spanish</option>
            <option value="pt">Portuguese</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="it">Italian</option>
            <option value="ja">Japanese</option>
            <option value="ko">Korean</option>
            <option value="zh">Chinese</option>
          </select>
        </div>
      </div>

      <label for="file">Upload File (*)</label>
      <input type="file" id="file" required />

      <label for="notes">Notes</label>
      <textarea id="notes" rows="3" placeholder="Context, audience, tone, glossary links..."></textarea>

      <label class="checkbox">
        <input type="checkbox" id="nonRegulated" required />
        I confirm this content is <b>not medical, legal, governmental, or otherwise regulated</b>.
      </label>

      <div class="quote card soft">
        <h3>Instant Quote (beta)</h3>
        <p class="muted">We’ll auto‑count when possible (TXT/SRT). Otherwise, enter your estimated words.</p>

        <div class="grid">
          <div>
            <label for="estWords">Estimated words</label>
            <input type="number" id="estWords" min="1" step="1" placeholder="e.g., 12000" />
          </div>
          <div>
            <label for="tier">Applied rate</label>
            <input type="text" id="tier" disabled placeholder="$—/word" />
          </div>
          <div>
            <label for="total">Estimated total</label>
            <input type="text" id="total" disabled placeholder="$0.00" />
          </div>
        </div>
        <button type="button" id="calcBtn" class="btn">Calculate</button>
      </div>

      <div class="actions">
        <button type="submit" class="btn primary">Submit & Pay</button>
        <button type="button" id="logoutBtn" class="btn">Log out</button>
      </div>
      <p id="confirmationMsg" class="success" style="display:none;">✅ Request submitted! Redirecting to payment…</p>
    </form>
  </div>

  <iframe name="hiddenFrame" style="display:none;"></iframe>
  <form id="spreadsheetForm" method="POST" target="hiddenFrame" style="display:none;"
    action="https://script.google.com/macros/s/AKfycbxbU9QqHS1oyYMBZz4kdNr1YYNHAlUZLIw-NWum8pjcZ8xckfHQgm6P1Qm6pa3oEzdCKQ/exec">
    <input name="fullname" id="fullnameField" />
    <input name="email" id="emailField" />
    <input name="phonenumber" id="phoneField" />
    <input name="sourceLang" id="sourceLangField" />
    <input name="targetLang" id="targetLangField" />
    <input name="notes" id="notesField" />
    <input name="fileName" id="fileNameField" />
  </form>

  <script src="crowd.js" type="module"></script>
</body>
</html>
